<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="Persontaxrate" package="mchile.humanteam.payroll">
        <field name="persontaxrateId" type="id" is-pk="true"/>
        <field name="taxTypeEnumId" type="id"/>
        <field name="taxRate" type="number-decimal">
            <description>Tax rate (in percentage)</description></field>
        <field name="currencyUomId" type="id"/>
        <field name="lowThreshold" type="currency-precise">
            <description>Lowest amount for which this tax rate applies</description></field>
        <field name="highThreshold" type="currency-precise">
            <description>Highest amount for which this tax rate applies</description></field>
        <field name="timePeriodId" type="id">
            <description>Time Period when it applies to a specific time period. In that case, the fromDate and thruDate from the time period should be used.</description>
        </field>
        <field name="reduceAmount" type="currency-amount">
            <description>Amount to reduce from the calculated tax (useful for easier calculation when tax is progressive).</description>
        </field>
        <field name="fromDate" type="date-time"/>
        <field name="thruDate" type="date-time"/>
        <relationship type="one" related="moqui.basic.Enumeration" title="MCHTaxType"><key-map field-name="taxTypeEnumId" related="enumId"/></relationship>
        <relationship type="one" related="moqui.basic.Uom"><key-map field-name="currencyUomId" related="uomId"/></relationship>
        <relationship type="one" related="mantle.party.time.TimePeriod"><key-map field-name="timePeriodId"/></relationship>
        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="MchTaxType" description="Tax Type"/>
            <moqui.basic.Enumeration enumId="MchTtImpuestoSegundaCategoria" enumTypeId="MchTaxType" description="Impuesto de Segunda Categoría"/>
        </seed-data>
    </entity>

    <entity entity-name="PayrollParameter" package="mchile.humanteam.payroll">
        <field name="payrollParameterTypeEnumId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="timePeriodId" type="id"/>
        <field name="value" type="number-decimal" not-null="true"/>
        <field name="currencyUomId" type="id"/>
        <relationship type="one" related="mantle.party.time.TimePeriod"><key-map field-name="timePeriodId"/></relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="MCHPayrollParameterType"><key-map field-name="payrollParameterTypeEnumId" related="enumId"/></relationship>
        <relationship type="one" related="moqui.basic.Uom"><key-map field-name="currencyUomId" related="uomId"/></relationship>
        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="MchPayrollParameterType" description="Period Parameter Type"/>
            <moqui.basic.Enumeration enumId="MchPptTopeImponibleAfp" enumTypeId="MchPayrollParameterType" description="Tope Imponible para afiliados a una AFP"/>
            <moqui.basic.Enumeration enumId="MchPptTopeImponibleIps" enumTypeId="MchPayrollParameterType" description="Tope Imponible para afiliados al IPS (ex INP)"/>
            <moqui.basic.Enumeration enumId="MchPptTopeImponibleAfc" enumTypeId="MchPayrollParameterType" description="Tope Imponible para Seguro de Cesantía"/>
            <moqui.basic.Enumeration enumId="MchPptRentaMinimaGeneral" enumTypeId="MchPayrollParameterType" description="Renta Mínima Imponible para trabajadores dependientes e independientes"/>
            <moqui.basic.Enumeration enumId="MchPptRentaMinimaMenores" enumTypeId="MchPayrollParameterType" description="Renta Mínima Imponible para Menores de 18 y Mayores de 65"/>
            <moqui.basic.Enumeration enumId="MchPptRentaMinimaCasa" enumTypeId="MchPayrollParameterType" description="Renta Mínima Imponible para Trabajadores de Casa Particular"/>
            <moqui.basic.Enumeration enumId="MchPptRentaMinimaNorem" enumTypeId="MchPayrollParameterType" description="Renta Mínima Imponible para fines no remuneracionales"/>
            <moqui.basic.Enumeration enumId="MchPptTopeApvMensual" enumTypeId="MchPayrollParameterType" description="Tope Mensual para Ahorro Previsional Voluntario (APV)"/>
            <moqui.basic.Enumeration enumId="MchPptTopeApvAnual" enumTypeId="MchPayrollParameterType" description="Tope Anual para Ahorro Previsional Voluntario (APV)"/>
            <moqui.basic.Enumeration enumId="MchPptTopeDepositoConvenidoAnual" enumTypeId="MchPayrollParameterType" description="Tope Anual para Depósito Convenido"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCoIndefinidoEmpleador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Empleador para contrato de plazo indefinido"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCoIndefinidoTrabajador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Trabajador para contrato de plazo indefinido"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCoFijoEmpleador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Empleador para contrato de plazo fijo"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCoFijoTrabajador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Trabajador para contrato de plazo fijo"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCo11AEmpleador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Empleador para contrato de plazo indefinido de 11 años o más"/>
            <moqui.basic.Enumeration enumId="MchPptTasaAfcCo11ATrabajador" enumTypeId="MchPayrollParameterType" description="Tasa Afc de cargo del Trabajador para contrato de plazo indefinido de 11 años o más"/>
            <moqui.basic.Enumeration enumId="MchPptTasaSis" enumTypeId="MchPayrollParameterType" description="Tasa para Seguro de Invalidez y Sobrevivencia (SIS)"/>
            <moqui.basic.Enumeration enumId="MchPptTrabajoPesadoEmpleador" enumTypeId="MchPayrollParameterType" description="Cotización para trabajos pesados Empleador"/>
            <moqui.basic.Enumeration enumId="MchPptTrabajoPesadoTrabajador" enumTypeId="MchPayrollParameterType" description="Cotización para trabajos pesados Trabajador"/>
            <moqui.basic.Enumeration enumId="MchPptTrabajoMenosPesadoEmpleador" enumTypeId="MchPayrollParameterType" description="Cotización para trabajos menos pesados Empleador"/>
            <moqui.basic.Enumeration enumId="MchPptTrabajoMenosPesadoTrabajador" enumTypeId="MchPayrollParameterType" description="Cotización para trabajos menos pesados Trabajador"/>
        </seed-data>
    </entity>

    <entity entity-name="AfpRate" package="mchile.humanteam.payroll">
        <field name="afpPartyId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="rate" type="number-decimal"/>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="afpPartyId" related="partyId"/></relationship>
    </entity>

    <entity entity-name="AsignacionFamiliar" package="mchile.humanteam.payroll">
        <field name="tramo" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="amount" type="number-decimal"/>
        <field name="lowThreshold" type="number-decimal"/>
        <field name="highThreshold" type="number-decimal"/>
        <field name="currencyUomId" type="id"/>
        <relationship type="one" related="moqui.basic.Uom"><key-map field-name="currencyUomId" related="uomId"/></relationship>
    </entity>


</entities>
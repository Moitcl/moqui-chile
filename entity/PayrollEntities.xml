<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="AfpRate" package="mchile.humanteam.payroll">
        <field name="afpPartyId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="rate" type="number-decimal"/>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="afpPartyId" related="partyId"/></relationship>
    </entity>

    <entity entity-name="EmployeeAffiliation" package="mchile.humanteam.payroll">
        <field name="employeePartyId" type="id" is-pk="true"/>
        <field name="affiliationTypeEnumId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="organizationPartyId" type="id"/>
        <field name="amount" type="currency-amount"/>
        <field name="currencyUomId" type="id"/>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="employeePartyId" related="partyId"/></relationship>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="organizationPartyId" related="partyId"/></relationship>
        <relationship type="one" related="moqui.basic.Uom"><key-map field-name="currencyUomId" related="uomId"/></relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="ClEmployeeAffiliation"><key-map field-name="affiliationTypeEnumId" related="enumId"/></relationship>
        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="ClEmployeeAffiliation" description="Employee affiliation to compulsory health insurance and retirement fund manager organizations"/>
            <moqui.basic.Enumeration enumId="MchCeaHealth" enumTypeId="ClEmployeeAffiliation" description="Health insurance organization (Isapre)"/>
            <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="MchCeaHealth" localized="Instituciones de Salud Previsional (Isapre)"/>
            <moqui.basic.Enumeration enumId="MchCeaPensionFund" enumTypeId="ClEmployeeAffiliation" description="Retirement fund manager organizations (AFP)"/>
            <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="MchCeaPensionFund" localized="Administradora de Fondos de PensiÃ³n (AFP)"/>
        </seed-data>
    </entity>

</entities>
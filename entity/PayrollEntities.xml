<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="AfpRate" package="mchile.humanteam.payroll">
        <field name="afpPartyId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="rate" type="number-decimal"/>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="afpPartyId" related="partyId"/></relationship>
    </entity>

    <entity entity-name="EmployeeAffiliation" package="mchile.humanteam.payroll">
        <field name="employeePartyId" type="id" is-pk="true"/>
        <field name="affiliationTypeEnumId" type="id" is-pk="true"/>
        <field name="fromDate" type="date-time" is-pk="true"/>
        <field name="thruDate" type="date-time"/>
        <field name="organizationPartyId" type="id"/>
        <field name="amount" type="currency-amount"/>
        <field name="currencyUomId" type="id"/>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="employeePartyId" related="partyId"/></relationship>
        <relationship type="one" related="mantle.party.Party"><key-map field-name="organizationPartyId" related="partyId"/></relationship>
        <relationship type="one" related="moqui.basic.Uom"><key-map field-name="currencyUomId" related="uomId"/></relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="ClEmployeeAffiliation"><key-map field-name="affiliationTypeEnumId" related="enumId"/></relationship>
        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="ClEmployeeAffiliation" description="Employee affiliation to compulsory health insurance and retirement fund manager organizations"/>
            <moqui.basic.Enumeration enumId="MchCeaHealth" enumTypeId="ClEmployeeAffiliation" description="Health insurance organization (Isapre)"/>
            <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="MchCeaHealth" localized="Instituciones de Salud Previsional (Isapre)"/>
            <moqui.basic.Enumeration enumId="MchCeaPensionFund" enumTypeId="ClEmployeeAffiliation" description="Retirement fund manager organizations (AFP)"/>
            <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="MchCeaPensionFund" localized="Administradora de Fondos de Pensión (AFP)"/>
        </seed-data>
    </entity>

    <extend-entity entity-name="Employment" package="mantle.humanres.employment">
        <field name="employmentDurationTypeEnumId" type="id"/>
        <field name="employmentEmployeeConditionTypeEnumId" type="id"/>
        <relationship type="one" related="moqui.basic.Enumeration" title="EmploymentDurationType">
            <key-map field-name="employmentDurationTypeEnumId" related="enumId"/>
        </relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="EmploymentEmployeeConditionType">
            <key-map field-name="employmentEmployeeConditionTypeEnumId" related="enumId"/>
        </relationship>
        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="EmploymentDurationType" description="Tipo de Contrato (Plazo)"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentDurationType" enumId="MchedtPlazoIndefinido" description="Contrato Plazo Indefinido"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentDurationType" enumId="MchedtPlazoFijo" description="Contrato Plazo Fijo"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentDurationType" enumId="MchedtPlazoIndefinido11Anos" description="Contrato Plazo Indefinido 11 años o más"/>
            <moqui.basic.EnumerationType enumTypeId="EmploymentEmployeeConditionType" description="Tipo de Empleado (respecto a rentas mínimas imponibles)"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentEmployeeConditionType" enumId="McheectGeneral" description="General (Trab. Dependientes e Independientes)"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentEmployeeConditionType" enumId="McheectMenores" description="Menores de 18 y Mayores de 65"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentEmployeeConditionType" enumId="McheectCasa" description="Trabajadores de Casa Particular"/>
            <moqui.basic.Enumeration enumTypeId="EmploymentEmployeeConditionType" enumId="McheectNoRem" description="Para fines no remuneracionales"/>
        </seed-data>
    </extend-entity>

</entities>
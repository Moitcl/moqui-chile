<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="Caf" package="MoquiChile" cache="never" >
        <field name="cafId" type="id" is-pk="true"/>
        <field name="activo" type="text-short"/>
        <field name="filename" type="text-medium"/>
        <field name="desde" type="number-integer"/>
        <field name="hasta" type="number-integer"/>
        <field name="dteTypeEnumId" type="text-short"/>
        <field name="fechaAutorizacion" type="date"/>
        <field name="rut" type="text-medium"/>
        <field name="ultimoFolio" type="number-integer"/>
        <relationship type="one" related="moqui.basic.Enumeration" title="DteType">
            <key-map field-name="dteTypeEnumId"/>
        </relationship>

        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="DteType" description="Fiscal Tax Documents"/>
            <moqui.basic.Enumeration enumTypeId="DteType" enumId="33" sequenceNum="10" description="Factura Electrónica"/>
            <moqui.basic.Enumeration enumTypeId="DteType" enumId="34" sequenceNum="20" description="Factura Exenta Electrónica"/>
            <moqui.basic.Enumeration enumTypeId="DteType" enumId="61" sequenceNum="30" description="Nota de Crédito Electrónica"/>
            <moqui.basic.Enumeration enumTypeId="DteType" enumId="56" sequenceNum="30" description="Nota de Débito Electrónica"/>
        </seed-data>

    </entity>

    <entity entity-name="ReferenciaReturn" package="MoquiChile" cache="never" >
        <field name="referenciaReturnId" type="id" is-pk="true"/>
        <field name="returnId" type="id"/>
        <field name="dteTypeEnumId" type="text-short"/>
        <field name="codigoReferenciaEnumId" type="text-short"/>
        <field name="razonReferencia" type="text-medium"/>
        <field name="fecha" type="date"/>
        <field name="rut" type="text-medium"/>
        <field name="idAdicional" type="text-medium"/>
        <field name="folio" type="number-integer"/>
        <relationship type="one" related="moqui.basic.Enumeration" title="DteType">
            <key-map field-name="dteTypeEnumId"/>
        </relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="CodigoReferencia">
            <key-map field-name="codigoReferenciaEnumId"/>
        </relationship>
        <relationship type="one" related="mantle.order.return.ReturnHeader" title="ReturnId">
            <key-map field-name="returnId"/>
        </relationship>

        <seed-data>
            <moqui.basic.EnumerationType enumTypeId="CodigoReferencia" description="Códigos de Referencia"/>
            <moqui.basic.Enumeration enumTypeId="CodigoReferencia" enumId="1" sequenceNum="10" description="Anula Doc. de Referencia"/>
            <moqui.basic.Enumeration enumTypeId="CodigoReferencia" enumId="2" sequenceNum="20" description="Corrige Texto de Referencia"/>
            <moqui.basic.Enumeration enumTypeId="CodigoReferencia" enumId="3" sequenceNum="30" description="Corrige Montos"/>
        </seed-data>
    </entity>

    <entity entity-name="ReferenciaInvoice" package="MoquiChile" cache="never" >
        <field name="referenciaInvoiceId" type="id" is-pk="true"/>
        <field name="invoiceId" type="id"/>
        <field name="dteTypeEnumId" type="text-short"/>
        <field name="codigoReferenciaEnumId" type="text-short"/>
        <field name="razonReferencia" type="text-medium"/>
        <field name="fecha" type="date"/>
        <field name="rut" type="text-medium"/>
        <field name="idAdicional" type="text-medium"/>
        <field name="folio" type="number-integer"/>
        <relationship type="one" related="moqui.basic.Enumeration" title="DteType">
            <key-map field-name="dteTypeEnumId"/>
        </relationship>
        <relationship type="one" related="moqui.basic.Enumeration" title="CodigoReferencia">
            <key-map field-name="codigoReferenciaEnumId"/>
        </relationship>
        <relationship type="one" related="mantle.account.invoice.Invoice" title="InvoiceId">
            <key-map field-name="invoiceId"/>
        </relationship>
    </entity>
</entities>
<?xml version="1.0" encoding="UTF-8"?>
<!--
This software is in the public domain under CC0 1.0 Universal plus a
Grant of Patent License.

To the extent possible under law, the author(s) have dedicated all
copyright and related and neighboring rights to this software to the
public domain worldwide. This software is distributed without any
warranty.

You should have received a copy of the CC0 Public Domain Dedication
along with this software (see the LICENSE.md file). If not, see
<http://creativecommons.org/publicdomain/zero/1.0/>.
-->
<entity-facade-xml type="seed">

    <mantle.party.time.TimePeriodType timePeriodTypeId="PayrollDay" periodPurposeEnumId="Payroll" parentPeriodTypeId="PayrollWeek" description="Daily Payroll" periodLength="1" lengthUomId="TF_day"/>
    <moqui.basic.Enumeration description="Commuting" enumId="ItemPayrollCommuting" parentEnumId="ItemPayrollIncome" enumTypeId="ItemType"/>
    Movilización
    <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="ItemPayrollCommuting" localized="Movilización"/>
    <moqui.basic.Enumeration description="Nourishment" enumId="ItemPayrollNourishment" parentEnumId="ItemPayrollIncome" enumTypeId="ItemType"/>
    <moqui.basic.LocalizedEntityField entityName="moqui.basic.Enumeration" fieldName="description" locale="es" pkValue="ItemPayrollNourishment" localized="Colación"/>

    <!-- Fuente: Ley de Impuesto a la Renta.
     DL-824 Diciembre de 1974, Artículo 43. Actualizado al 29.09.2014 con Ley 20.780.
    -->
    <moqui.basic.Enumeration enumId="PrphNoAuto" enumTypeId="PayrollPhase" description="Information to be used by PayrollAdjCalcService and related services"/>
    <moqui.basic.Enumeration enumId="ItemTaxClImpuestoSegundaCat" enumTypeId="ItemType" parentEnumId="ItemPayrollTaxes" description="Impuesto de Segunda Categoría"/>
    <moqui.basic.Enumeration enumId="ItemAsignacionFamiliar" enumTypeId="ItemType" parentEnumId="ItemPayrollIncome" description="Impuesto de Segunda Categoría"/>
    <mantle.humanres.employment.PayrollAdjustment payrollAdjustmentId="ClImpSegCatClUtm" description="Impuesto de Segunda Categoría, en UTM" itemTypeEnumId="ItemTaxClImpuestoSegundaCat" payrollPhaseEnumId="PrphNoAuto" fromDate="2017-01-01" isTax="Y" rateBasisEnumId="PrbsIncome" taxAuthorityId="CL_SII" payeePartyId="CL_SII">
        <details detailSeqId="01" rate="0" periodMin="0" periodMax="13.5"/>
        <details detailSeqId="02" rate="-0.04" periodMin="13.5" periodMax="30"/>
        <details detailSeqId="03" rate="-0.08" periodMin="30" periodMax="50"/>
        <details detailSeqId="04" rate="-0.135" periodMin="50" periodMax="70"/>
        <details detailSeqId="05" rate="-0.23" periodMin="70" periodMax="90"/>
        <details detailSeqId="06" rate="-0.304" periodMin="90" periodMax="120"/>
        <details detailSeqId="07" rate="-0.35" periodMin="120"/>
    </mantle.humanres.employment.PayrollAdjustment>

    <!-- Asignación Familiar -->
    <mantle.humanres.employment.PayrollAdjustment payrollAdjustmentId="ClAsignacionFamiliar" description="Impuesto de Segunda Categoría, en UTM" itemTypeEnumId="ItemAsignacionFamiliar" payrollPhaseEnumId="PrphNoAuto" fromDate="2019-03-01" isTax="N">
        <!-- periodMin <= periodValue < periodMax -->
        <details detailSeqId="A" flatAmount="12364" periodMin="0" periodMax="315842"/>
        <details detailSeqId="B" flatAmount="7587" periodMin="315842" periodMax="461321"/>
        <details detailSeqId="C" flatAmount="2398" periodMin="461321" periodMax="791503"/>
        <details detailSeqId="D" flatAmount="0" periodMin="791503"/>
    </mantle.humanres.employment.PayrollAdjustment>

    <moqui.service.ServiceRegister serviceRegisterId="MChile.PayrollPeriodAdjustments" serviceTypeEnumId="PayrollAdjustmentCalc" description="Prepare Adjustments for current Payroll Period" serviceName="mchile.humanteam.PayrollServices.prepare#PayrollPeriodAdjustments"/>
    <mantle.humanres.employment.PayrollAdjCalcService adjCalcServiceId="MChile.PayrollPeriodAdjustments" description="Prepare Adjustments for current Payroll Period, not intended to be applied to Employments" serviceRegisterId="MChile.PayrollPeriodAdjustments"/>

    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleAfpCLF" fromDate="2018-01-01 00:00:00.000" thruDate="2018-12-31 23:59:59.999" parameterValue="78.3"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleIpsCLF" fromDate="2018-01-01 00:00:00.000" thruDate="2018-12-31 23:59:59.999" parameterValue="60"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleAfcCLF" fromDate="2018-01-01 00:00:00.000" thruDate="2018-12-31 23:59:59.999" parameterValue="117.5"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleAfpCLF" fromDate="2019-01-01 00:00:00.000" thruDate="2019-12-31 23:59:59.999" parameterValue="79.2"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleIpsCLF" fromDate="2019-01-01 00:00:00.000" thruDate="2019-12-31 23:59:59.999" parameterValue="60"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeImponibleAfcCLF" fromDate="2019-01-01 00:00:00.000" thruDate="2019-12-31 23:59:59.999" parameterValue="118.9"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="RentaMinimaGeneralCLP" fromDate="2019-03-01 00:00:00.000" parameterValue="301000"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="RentaMinimaMenoresCLP" fromDate="2019-03-01 00:00:00.000" parameterValue="224704"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="RentaMinimaCasaCLP" fromDate="2019-03-01 00:00:00.000" parameterValue="301000"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="RentaMinimaNoremCLP" fromDate="2019-03-01 00:00:00.000" parameterValue="194164"/>

    <!-- Ley 19.728 modificada por la Ley 20.328 el 30-01-2009 entrando en vigencia el 01-05-2009 -->
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContratoIndefinidoEmpleador" fromDate="2009-05-01 00:00:00.000" parameterValue="2.4"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContratoIndefinidoTrabajador" fromDate="2009-05-01 00:00:00.000" parameterValue="0.6"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContratoFijoEmpleador" fromDate="2009-05-01 00:00:00.000" parameterValue="3"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContratoFijoTrabajador" fromDate="2009-05-01 00:00:00.000" parameterValue="0"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContrato11AnosEmpleador" fromDate="2009-05-01 00:00:00.000" parameterValue="0.8"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaAfcContrato11AnosTrabajador" fromDate="2009-05-01 00:00:00.000" parameterValue="0"/>

    <!-- Ley 19.768 -->
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeApvMensualCLF" fromDate="2002-03-01 00:00:00.000" parameterValue="50"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeApvAnualCLF" fromDate="2002-03-01 00:00:00.000" parameterValue="600"/>

    <!-- Ley 20.455 -->
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TopeDepositoConvenidoAnualCLF" fromDate="2011-01-01 00:00:00.000" parameterValue="900"/>

    <!-- AFP y SiS -->
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaSis" fromDate="2018-07-01 00:00:00.000" thruDate="2020-06-30 23:59:59.999" parameterValue="1.53"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaSis" fromDate="2016-07-01 00:00:00.000" thruDate="2018-06-30 23:59:59.999" parameterValue="1.41"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaSis" fromDate="2014-07-01 00:00:00.000" thruDate="2016-06-30 23:59:59.999" parameterValue="1.15"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaSis" fromDate="2012-07-01 00:00:00.000" thruDate="2014-06-30 23:59:59.999" parameterValue="1.26"/>
    <!-- AFP Capital -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-001" fromDate="2011-07-01 00:00:00.000" rate="11.44"/>
    <!-- AFP Cuprum -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-002" fromDate="2018-07-01 00:00:00.000" rate="11.44"/>
    <!-- AFP Habitat -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-003" fromDate="2012-06-01 00:00:00.000" rate="11.27"/>
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-003" fromDate="2011-07-01 00:00:00.000" rate="11.36" thruDate="2012-05-31 23:59:59.999"/>
    <!-- AFP Planvital -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-004" fromDate="2018-08-01 00:00:00.000" rate="11.16"/>
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-004" fromDate="2016-08-01 00:00:00.000" rate="10.41" thruDate="2018-07-31 23:59:59.999"/>
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-004" fromDate="2014-08-01 00:00:00.000" rate="10.47" thruDate="2016-07-31 23:59:59.999"/>
    <!-- AFP Provida -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-005" fromDate="2017-05-01 00:00:00.000" rate="11.45"/>
    <!-- AFP Modelo -->
    <mchile.humanteam.payroll.AfpRate afpPartyId="CHLSPENS-006" fromDate="2012-08-01 00:00:00.000" rate="10.77"/>

    <!-- Ley 19.404 -->
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaTrabajoPesadoEmpleador" fromDate="1995-08-21 00:00:00.000" parameterValue="2"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaTrabajoPesadoTrabajador" fromDate="1995-08-21 00:00:00.000" parameterValue="2"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaTrabajoMenosPesadoEmpleador" fromDate="1995-08-21 00:00:00.000" parameterValue="1"/>
    <mantle.humanres.employment.PayrollAdjCalcParameter adjCalcServiceId="MChile.PayrollPeriodAdjustments" parameterName="TasaTrabajoMenosPesadoTrabajador" fromDate="1995-08-21 00:00:00.000" parameterValue="1"/>

</entity-facade-xml>
